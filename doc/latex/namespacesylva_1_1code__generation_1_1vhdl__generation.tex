\hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation}{}\section{sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation Namespace Reference}
\label{namespacesylva_1_1code__generation_1_1vhdl__generation}\index{sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation@{sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}{port\+\_\+list\+\_\+to\+\_\+dict} (port\+\_\+list)
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a8d3a2a6fdc4ce4af07672a2dd237a75d}{format\+\_\+signals} (signals=\mbox{[}$\,$\mbox{]})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a11710d670da0bd9d0787c3d56fd484c7}{format\+\_\+connections} (connections=\mbox{[}$\,$\mbox{]})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}{format\+\_\+generics} (generics=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__constants_ac7c713d1ce70d2a383d55a7b6dcc1d84}{vhdl\+\_\+constants.\+global\+\_\+generics})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}{format\+\_\+ports} (input\+\_\+ports, output\+\_\+ports)
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a5bec5fea3c520448fa87982cb6bfc87f}{format\+\_\+generic\+\_\+map} (generics, global\+\_\+generics=\{\}, local\+\_\+generics=\{\})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ab342aa6669b41bf57abfaee8918f33e2}{format\+\_\+port\+\_\+map}
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a220526068f8d3f59852470bc1879f019}{format\+\_\+design\+\_\+units} (components, fimp\+\_\+lib, global\+\_\+generics=\{\}, local\+\_\+generics=\{\})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}{merge\+\_\+dict} (dictA, dictB)
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a82d14f967dd9f7e059172186c5b49411}{format\+\_\+components}
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a4807ba4c1479ad348e96412049260431}{interface} (entity\+\_\+name=\textquotesingle{}no\+\_\+name\textquotesingle{}, input\+\_\+ports=\{\}, output\+\_\+ports=\{\}, libraries=\{\}, generics=\{\}, header=\textquotesingle{}\textquotesingle{}, license\+\_\+header=\hyperlink{namespacesylva_1_1code__generation_1_1mit__license_a5c8d9ae3b2d4db392cdc66e37b035675}{mit\+\_\+license.\+vhdl}(), template\+\_\+string=vhdl\+\_\+templates.\+interface, \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}{default\+\_\+input\+\_\+ports}=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}{default\+\_\+input\+\_\+ports})
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a94219128d04fd81a78200424dbf45356}{architecture} (architecture\+\_\+name=\textquotesingle{}fimp\+\_\+0\textquotesingle{}, entity\+\_\+name=\textquotesingle{}no\+\_\+name\textquotesingle{}, signals=\{\}, components=\{\}, fimp\+\_\+lib=\{\}, connections=\mbox{[}$\,$\mbox{]}, template\+\_\+string=vhdl\+\_\+templates.\+architecture)
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ae2d3d4cc47d3292a63a983c9645c3010}{vhdl\+\_\+file} (\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a4807ba4c1479ad348e96412049260431}{interface}, architectures=\mbox{[}$\,$\mbox{]}, output\+\_\+file=\textquotesingle{}result.\+vhdl\textquotesingle{})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}{pl2pd} = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}{port\+\_\+list\+\_\+to\+\_\+dict}
\item 
\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a85e74939ca684a8a978805b5918467c8}{std\+\_\+logic} = sdf.\+Data\+Token\+Type(name=\textquotesingle{}std\+\_\+logic\textquotesingle{}, size=1)
\item 
list \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a2373c5e8bd084e84746b1b6b947a2667}{default\+\_\+input\+\_\+ports\+\_\+list}
\item 
def \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}{default\+\_\+input\+\_\+ports} = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}{pl2pd}(\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a2373c5e8bd084e84746b1b6b947a2667}{default\+\_\+input\+\_\+ports\+\_\+list})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a94219128d04fd81a78200424dbf45356}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a94219128d04fd81a78200424dbf45356}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!architecture@{architecture}}
\index{architecture@{architecture}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{architecture()}{architecture()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture (\begin{DoxyParamCaption}\item[{}]{architecture\+\_\+name = {\ttfamily \textquotesingle{}fimp\+\_\+0\textquotesingle{}},  }\item[{}]{entity\+\_\+name = {\ttfamily \textquotesingle{}no\+\_\+name\textquotesingle{}},  }\item[{}]{signals = {\ttfamily \{\}},  }\item[{}]{components = {\ttfamily \{\}},  }\item[{}]{fimp\+\_\+lib = {\ttfamily \{\}},  }\item[{}]{connections = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{template\+\_\+string = {\ttfamily vhdl\+\_\+templates.architecture} }\end{DoxyParamCaption})}



Definition at line 427 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+connections(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+design\+\_\+units(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+signals(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+vhdl\+\_\+file().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface().


\begin{DoxyCode}
427                  template\_string=vhdl\_templates.architecture):
428 
429     template = Template(template\_string)
430     \textcolor{keywordflow}{return} template.render(architecture\_name=architecture\_name,
431                            entity\_name=entity\_name,
432                            components=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a82d14f967dd9f7e059172186c5b49411}{format\_components}(components, fimp\_lib),
433                            signals=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a8d3a2a6fdc4ce4af07672a2dd237a75d}{format\_signals}(signals),
434                            connections=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a11710d670da0bd9d0787c3d56fd484c7}{format\_connections}(connections),
435                            design\_units=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a220526068f8d3f59852470bc1879f019}{format\_design\_units}(components, fimp\_lib))
436 
437 \textcolor{comment}{# 'Success' or None}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a82d14f967dd9f7e059172186c5b49411}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a82d14f967dd9f7e059172186c5b49411}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+components@{format\+\_\+components}}
\index{format\+\_\+components@{format\+\_\+components}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+components()}{format\_components()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components (\begin{DoxyParamCaption}\item[{}]{components,  }\item[{}]{fimp\+\_\+lib = {\ttfamily \{\}},  }\item[{}]{template\+\_\+string = {\ttfamily \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__templates_a65130034af5ea62c012dd84afaedcc34}{vhdl\+\_\+templates.\+component}},  }\item[{}]{default\+\_\+input\+\_\+ports = {\ttfamily \{\textquotesingle{}clk\textquotesingle{}\+:~\textquotesingle{}\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a85e74939ca684a8a978805b5918467c8}{std\+\_\+logic}\textquotesingle{}},  }\item[{}]{nrst }\end{DoxyParamCaption})}



Definition at line 332 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generics(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+ports(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+merge\+\_\+dict().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+merge\+\_\+dict().


\begin{DoxyCode}
332                       default\_input\_ports=\{\textcolor{stringliteral}{'clk'}: \textcolor{stringliteral}{'std\_logic'}, \textcolor{stringliteral}{'nrst'}: \textcolor{stringliteral}{'std\_logic'}\}):
333     \textcolor{stringliteral}{'''Generate component declaration part}
334 \textcolor{stringliteral}{}
335 \textcolor{stringliteral}{      components}
336 \textcolor{stringliteral}{        used components}
337 \textcolor{stringliteral}{        dict of arrays}
338 \textcolor{stringliteral}{        outter keys are the entity names}
339 \textcolor{stringliteral}{        inner keys are fimp instances}
340 \textcolor{stringliteral}{        e.g. \{ 'fft\_64' : [ fft\_0, fft\_1 ] \}}
341 \textcolor{stringliteral}{}
342 \textcolor{stringliteral}{      fimp\_lib}
343 \textcolor{stringliteral}{        dict of dicts}
344 \textcolor{stringliteral}{        outter keys are the function names (entity names)}
345 \textcolor{stringliteral}{        inner keys are attributes (['generics', 'input\_ports', 'output\_ports'])}
346 \textcolor{stringliteral}{        e.g. \{ 'fft\_64' :}
347 \textcolor{stringliteral}{               [ 'generics' :}
348 \textcolor{stringliteral}{                 \{ 'data\_width' :}
349 \textcolor{stringliteral}{                   \{ 'type' : 'integer', 'value' : 3 \}}
350 \textcolor{stringliteral}{                 \},}
351 \textcolor{stringliteral}{                 'input\_ports' :}
352 \textcolor{stringliteral}{                 \{ 're\_in' : 'integer range 0 to 255,}
353 \textcolor{stringliteral}{                   'im\_in' : 'integer range 0 to 255}
354 \textcolor{stringliteral}{                 \},}
355 \textcolor{stringliteral}{                 'output\_ports' :}
356 \textcolor{stringliteral}{                 \{ 're\_out' : 'integer range 0 to 255,}
357 \textcolor{stringliteral}{                   'im\_out' : 'integer range 0 to 255}
358 \textcolor{stringliteral}{                 \}}
359 \textcolor{stringliteral}{               ]}
360 \textcolor{stringliteral}{             \}}
361 \textcolor{stringliteral}{}
362 \textcolor{stringliteral}{      template\_string}
363 \textcolor{stringliteral}{        jinja2 template}
364 \textcolor{stringliteral}{    '''}
365 
366     result = []
367     template = Template(template\_string)
368 
369     \textcolor{keywordflow}{for} entity\_name, fimps \textcolor{keywordflow}{in} components.items():
370         default\_generics = fimp\_lib[entity\_name].generics
371         input\_ports = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}{merge\_dict}(default\_input\_ports, fimp\_lib[entity\_name].input\_ports)
372         output\_ports = fimp\_lib[entity\_name].output\_ports
373         ports = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}{format\_ports}(input\_ports, output\_ports)
374         result.append(
375             template.render(
376                 entity\_name=entity\_name,
377                 generics=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}{format\_generics}(default\_generics),
378                 ports=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}{format\_ports}(input\_ports, output\_ports)))
379 
380         \textcolor{keywordflow}{for} one\_fimp \textcolor{keywordflow}{in} fimps:
381             fimp\_index = one\_fimp.global\_index
382             fimp\_type = one\_fimp.type
383             cfg = \textcolor{stringliteral}{'  for %s\_%s: %s use entity work.%s(fimp\_%s);'} % \(\backslash\)
384                   (entity\_name, fimp\_index, entity\_name, entity\_name, fimp\_type)
385             result.append(cfg)
386 
387     \textcolor{keywordflow}{return} result
388 
389 \textcolor{comment}{# string}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a11710d670da0bd9d0787c3d56fd484c7}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a11710d670da0bd9d0787c3d56fd484c7}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+connections@{format\+\_\+connections}}
\index{format\+\_\+connections@{format\+\_\+connections}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+connections()}{format\_connections()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+connections (\begin{DoxyParamCaption}\item[{}]{connections = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate connection part

  connections
    array of dicts, keys = ['src', 'dest'], all strings (signal names)
    e.g. [ { 'src': 'counter', 'dest' : 'fsm_state_input' } ]
\end{DoxyVerb}
 

Definition at line 58 of file vhdl\+\_\+generation.\+py.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture().


\begin{DoxyCode}
58 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a11710d670da0bd9d0787c3d56fd484c7}{format\_connections}(connections=[]):
59     \textcolor{stringliteral}{'''Generate connection part}
60 \textcolor{stringliteral}{}
61 \textcolor{stringliteral}{      connections}
62 \textcolor{stringliteral}{        array of dicts, keys = ['src', 'dest'], all strings (signal names)}
63 \textcolor{stringliteral}{        e.g. [ \{ 'src': 'counter', 'dest' : 'fsm\_state\_input' \} ]}
64 \textcolor{stringliteral}{    '''}
65     result = []
66 
67     \textcolor{keywordflow}{if} len(connections) > 0:
68         \textcolor{keywordflow}{for} c \textcolor{keywordflow}{in} connections:
69             result.append(\textcolor{stringliteral}{'%s <= %s;'} % (c[\textcolor{stringliteral}{'dest'}], c[\textcolor{stringliteral}{'src'}]))
70     \textcolor{keywordflow}{return} result
71 
72 \textcolor{comment}{# array}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a220526068f8d3f59852470bc1879f019}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a220526068f8d3f59852470bc1879f019}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+design\+\_\+units@{format\+\_\+design\+\_\+units}}
\index{format\+\_\+design\+\_\+units@{format\+\_\+design\+\_\+units}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+design\+\_\+units()}{format\_design\_units()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+design\+\_\+units (\begin{DoxyParamCaption}\item[{}]{components,  }\item[{}]{fimp\+\_\+lib,  }\item[{}]{global\+\_\+generics = {\ttfamily \{\}},  }\item[{}]{local\+\_\+generics = {\ttfamily \{\}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate design unit instantiation part

  components
    used components
    dict of arrays
    outter keys are the entity names
    inner keys are fimp instances
    e.g. { 'fft_64' : [ fft_0, fft_1 ] }

  fimp_lib
    dict of dicts
    outter keys are the function names (entity names)
    inner keys are attributes (['generics', 'input_ports', 'output_ports'])
    e.g. { 'fft_64' :
           [ 'generics' :
             { 'data_width' :
               { 'type' : 'integer', 'value' : 3 }
             },
             'input_ports' :
             { 're_in' : 'integer range 0 to 255,
               'im_in' : 'integer range 0 to 255
             },
             'output_ports' :
             { 're_out' : 'integer range 0 to 255,
               'im_out' : 'integer range 0 to 255
             }
           ]
         }

  function_name
    string

  fimp_index
    unique index among all fimps used in the system
    integer

  global_generics
    dict of dicts
    outter keys are the generic names
    inner keys = ['type', 'value'], all strings/integers
    e.g. { 'data_width' : { 'type': 'integer', 'value' : 8 } }

  local_generics
    dict of dicts
    most outter keys are the entity names
    second outter keys are the fimp index
    inner parts are the same as global_generics
\end{DoxyVerb}
 

Definition at line 230 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generic\+\_\+map(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+port\+\_\+map().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+port\+\_\+map().


\begin{DoxyCode}
230                         global\_generics=\{\}, local\_generics=\{\}):
231     \textcolor{stringliteral}{'''Generate design unit instantiation part}
232 \textcolor{stringliteral}{}
233 \textcolor{stringliteral}{      components}
234 \textcolor{stringliteral}{        used components}
235 \textcolor{stringliteral}{        dict of arrays}
236 \textcolor{stringliteral}{        outter keys are the entity names}
237 \textcolor{stringliteral}{        inner keys are fimp instances}
238 \textcolor{stringliteral}{        e.g. \{ 'fft\_64' : [ fft\_0, fft\_1 ] \}}
239 \textcolor{stringliteral}{}
240 \textcolor{stringliteral}{      fimp\_lib}
241 \textcolor{stringliteral}{        dict of dicts}
242 \textcolor{stringliteral}{        outter keys are the function names (entity names)}
243 \textcolor{stringliteral}{        inner keys are attributes (['generics', 'input\_ports', 'output\_ports'])}
244 \textcolor{stringliteral}{        e.g. \{ 'fft\_64' :}
245 \textcolor{stringliteral}{               [ 'generics' :}
246 \textcolor{stringliteral}{                 \{ 'data\_width' :}
247 \textcolor{stringliteral}{                   \{ 'type' : 'integer', 'value' : 3 \}}
248 \textcolor{stringliteral}{                 \},}
249 \textcolor{stringliteral}{                 'input\_ports' :}
250 \textcolor{stringliteral}{                 \{ 're\_in' : 'integer range 0 to 255,}
251 \textcolor{stringliteral}{                   'im\_in' : 'integer range 0 to 255}
252 \textcolor{stringliteral}{                 \},}
253 \textcolor{stringliteral}{                 'output\_ports' :}
254 \textcolor{stringliteral}{                 \{ 're\_out' : 'integer range 0 to 255,}
255 \textcolor{stringliteral}{                   'im\_out' : 'integer range 0 to 255}
256 \textcolor{stringliteral}{                 \}}
257 \textcolor{stringliteral}{               ]}
258 \textcolor{stringliteral}{             \}}
259 \textcolor{stringliteral}{}
260 \textcolor{stringliteral}{      function\_name}
261 \textcolor{stringliteral}{        string}
262 \textcolor{stringliteral}{}
263 \textcolor{stringliteral}{      fimp\_index}
264 \textcolor{stringliteral}{        unique index among all fimps used in the system}
265 \textcolor{stringliteral}{        integer}
266 \textcolor{stringliteral}{}
267 \textcolor{stringliteral}{      global\_generics}
268 \textcolor{stringliteral}{        dict of dicts}
269 \textcolor{stringliteral}{        outter keys are the generic names}
270 \textcolor{stringliteral}{        inner keys = ['type', 'value'], all strings/integers}
271 \textcolor{stringliteral}{        e.g. \{ 'data\_width' : \{ 'type': 'integer', 'value' : 8 \} \}}
272 \textcolor{stringliteral}{}
273 \textcolor{stringliteral}{      local\_generics}
274 \textcolor{stringliteral}{        dict of dicts}
275 \textcolor{stringliteral}{        most outter keys are the entity names}
276 \textcolor{stringliteral}{        second outter keys are the fimp index}
277 \textcolor{stringliteral}{        inner parts are the same as global\_generics}
278 \textcolor{stringliteral}{    '''}
279 
280     result = []
281     \textcolor{keywordflow}{for} entity\_name, fimps \textcolor{keywordflow}{in} components.items():
282         default\_generics = fimp\_lib[entity\_name].generics
283         input\_ports = fimp\_lib[entity\_name].input\_ports
284         output\_ports = fimp\_lib[entity\_name].output\_ports
285 
286         \textcolor{keywordflow}{if} entity\_name \textcolor{keywordflow}{in} local\_generics:
287             all\_fimp\_local\_generics = local\_generics[entity\_name]
288         \textcolor{keywordflow}{else}:
289             all\_fimp\_local\_generics = \{\}
290 
291         \textcolor{keywordflow}{for} one\_fimp \textcolor{keywordflow}{in} fimps:
292             fimp\_index = one\_fimp.global\_index
293             \textcolor{keywordflow}{if} fimp\_index \textcolor{keywordflow}{in} all\_fimp\_local\_generics.keys():
294                 fimp\_local\_generics = all\_fimp\_local\_generics[fimp\_index]
295             \textcolor{keywordflow}{else}:
296                 fimp\_local\_generics = \{\}
297 
298             generic\_map = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a5bec5fea3c520448fa87982cb6bfc87f}{format\_generic\_map}(
299                 generics=default\_generics,
300                 global\_generics=global\_generics,
301                 local\_generics=fimp\_local\_generics)
302 
303             port\_map = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ab342aa6669b41bf57abfaee8918f33e2}{format\_port\_map}(
304                 input\_ports=input\_ports,
305                 output\_ports=output\_ports,
306                 function\_name=entity\_name,
307                 fimp\_index=fimp\_index)
308 
309             design\_unit = \textcolor{stringliteral}{'%s\_%s: %s'} \(\backslash\)
310                 % (entity\_name,
311                    fimp\_index,
312                    entity\_name)
313 
314             result.append(design\_unit)
315 
316             \textcolor{keywordflow}{if} generic\_map != \textcolor{stringliteral}{''}:
317                 result.append(\textcolor{stringliteral}{'  '} + generic\_map)
318 
319             \textcolor{keywordflow}{if} port\_map != \textcolor{stringliteral}{''}:
320                 result.append(\textcolor{stringliteral}{'  '} + port\_map)
321 
322             result[-1] += \textcolor{stringliteral}{';'}
323 
324     \textcolor{keywordflow}{return} result
325 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a5bec5fea3c520448fa87982cb6bfc87f}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a5bec5fea3c520448fa87982cb6bfc87f}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+generic\+\_\+map@{format\+\_\+generic\+\_\+map}}
\index{format\+\_\+generic\+\_\+map@{format\+\_\+generic\+\_\+map}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+generic\+\_\+map()}{format\_generic\_map()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generic\+\_\+map (\begin{DoxyParamCaption}\item[{}]{generics,  }\item[{}]{global\+\_\+generics = {\ttfamily \{\}},  }\item[{}]{local\+\_\+generics = {\ttfamily \{\}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate generic map part

  generics
    dict of dicts
    outter keys are the generic names
    inner keys = ['type', 'value'], all strings/integers
    e.g. { 'data_width' : { 'type': 'integer', 'value' : 8 } }

  global_generics
    dict of dicts
    outter keys are the generic names
    inner keys = ['type', 'value'], all strings/integers
    e.g. { 'data_width' : { 'type': 'integer', 'value' : 8 } }

  local_generics
    dict of dicts
    outter keys are the generic names
    inner keys = ['type', 'value'], all strings/integers
    e.g. { 'data_width' : { 'type': 'integer', 'value' : 8 } }
\end{DoxyVerb}
 

Definition at line 123 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+port\+\_\+map().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+design\+\_\+units(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+ports().


\begin{DoxyCode}
123                        global\_generics=\{\}, local\_generics=\{\}):
124     \textcolor{stringliteral}{'''Generate generic map part}
125 \textcolor{stringliteral}{}
126 \textcolor{stringliteral}{      generics}
127 \textcolor{stringliteral}{        dict of dicts}
128 \textcolor{stringliteral}{        outter keys are the generic names}
129 \textcolor{stringliteral}{        inner keys = ['type', 'value'], all strings/integers}
130 \textcolor{stringliteral}{        e.g. \{ 'data\_width' : \{ 'type': 'integer', 'value' : 8 \} \}}
131 \textcolor{stringliteral}{}
132 \textcolor{stringliteral}{      global\_generics}
133 \textcolor{stringliteral}{        dict of dicts}
134 \textcolor{stringliteral}{        outter keys are the generic names}
135 \textcolor{stringliteral}{        inner keys = ['type', 'value'], all strings/integers}
136 \textcolor{stringliteral}{        e.g. \{ 'data\_width' : \{ 'type': 'integer', 'value' : 8 \} \}}
137 \textcolor{stringliteral}{}
138 \textcolor{stringliteral}{      local\_generics}
139 \textcolor{stringliteral}{        dict of dicts}
140 \textcolor{stringliteral}{        outter keys are the generic names}
141 \textcolor{stringliteral}{        inner keys = ['type', 'value'], all strings/integers}
142 \textcolor{stringliteral}{        e.g. \{ 'data\_width' : \{ 'type': 'integer', 'value' : 8 \} \}}
143 \textcolor{stringliteral}{    '''}
144 
145     result = \textcolor{stringliteral}{''}
146 
147     \textcolor{keywordflow}{if} len(generics.keys()) > 0:
148 
149         result = \textcolor{stringliteral}{'generic map ('}
150 
151         \textcolor{keywordflow}{for} g\_name, g\_type\_value \textcolor{keywordflow}{in} generics.items():
152 
153             g\_type = g\_type\_value[\textcolor{stringliteral}{'type'}]
154             g\_value = g\_type\_value[\textcolor{stringliteral}{'value'}]
155 
156             is\_local = \textcolor{keyword}{False}
157             \textcolor{keywordflow}{if} g\_name \textcolor{keywordflow}{in} local\_generics.keys():
158                 \textcolor{keywordflow}{if} g\_type == local\_generics[g\_name][\textcolor{stringliteral}{'type'}]:
159                     g\_value = local\_generics[g\_name][\textcolor{stringliteral}{'value'}]
160                     is\_local = \textcolor{keyword}{True}
161                 \textcolor{keywordflow}{else}:
162                     errmsg = \textcolor{stringliteral}{'Local generics has wrong type for '}
163                     errmsg += \textcolor{stringliteral}{'\(\backslash\)'%s\(\backslash\)'. '} % g\_name
164                     errmsg += \textcolor{stringliteral}{'Type should be %s '} % g\_type
165                     errmsg += \textcolor{stringliteral}{'instead of %s.'} % local\_generics[g\_name][\textcolor{stringliteral}{'type'}]
166                     \textcolor{keywordflow}{raise} Exception(errmsg)
167 
168             is\_global = \textcolor{keyword}{False}
169             \textcolor{keywordflow}{if} is\_local == \textcolor{keyword}{False}:
170                 \textcolor{keywordflow}{if} g\_name \textcolor{keywordflow}{in} global\_generics.keys():
171                     \textcolor{keywordflow}{if} g\_type == global\_generics[g\_name][\textcolor{stringliteral}{'type'}]:
172                         g\_value = global\_generics[g\_name][\textcolor{stringliteral}{'value'}]
173                         is\_global = \textcolor{keyword}{True}
174 
175             \textcolor{keywordflow}{if} is\_global == \textcolor{keyword}{False}:
176                 warnmsg = \textcolor{stringliteral}{'No value is provided for %s (%s). '} % (g\_name, g\_type)
177                 warnmsg += \textcolor{stringliteral}{'Default value %s will be used.'} % g\_value
178 
179                 warnings.warn(warnmsg)
180 
181             result += \textcolor{stringliteral}{'%s => %s, '} % (g\_name, g\_value)
182 
183         result = result[:-2] + \textcolor{stringliteral}{')'}
184 
185     \textcolor{keywordflow}{return} result
186 
187 \textcolor{comment}{# string}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+generics@{format\+\_\+generics}}
\index{format\+\_\+generics@{format\+\_\+generics}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+generics()}{format\_generics()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generics (\begin{DoxyParamCaption}\item[{}]{generics = {\ttfamily \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__constants_ac7c713d1ce70d2a383d55a7b6dcc1d84}{vhdl\+\_\+constants.\+global\+\_\+generics}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate generic part

  generics:
    dict of dicts
    outter keys are the generic names
    inner keys = ['type', 'value'], all strings/integers
    e.g. { 'data_width' : { 'type': 'integer', 'value' : 8 } }
\end{DoxyVerb}
 

Definition at line 73 of file vhdl\+\_\+generation.\+py.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface().


\begin{DoxyCode}
73 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}{format\_generics}(generics=vhdl\_constants.global\_generics):
74     \textcolor{stringliteral}{'''Generate generic part}
75 \textcolor{stringliteral}{}
76 \textcolor{stringliteral}{      generics:}
77 \textcolor{stringliteral}{        dict of dicts}
78 \textcolor{stringliteral}{        outter keys are the generic names}
79 \textcolor{stringliteral}{        inner keys = ['type', 'value'], all strings/integers}
80 \textcolor{stringliteral}{        e.g. \{ 'data\_width' : \{ 'type': 'integer', 'value' : 8 \} \}}
81 \textcolor{stringliteral}{    '''}
82 
83     result = []
84 
85     \textcolor{keywordflow}{if} len(generics.keys()) > 0:
86         \textcolor{keywordflow}{for} g, v \textcolor{keywordflow}{in} generics.items():
87             result.append(\textcolor{stringliteral}{'%s : %s := %s;'} % (g, v[\textcolor{stringliteral}{'type'}], v[\textcolor{stringliteral}{'value'}]))
88 
89         result[-1] = result[-1][:-1]
90 
91     \textcolor{keywordflow}{return} result
92 
93 \textcolor{comment}{# array}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_ab342aa6669b41bf57abfaee8918f33e2}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_ab342aa6669b41bf57abfaee8918f33e2}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+port\+\_\+map@{format\+\_\+port\+\_\+map}}
\index{format\+\_\+port\+\_\+map@{format\+\_\+port\+\_\+map}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+port\+\_\+map()}{format\_port\_map()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+port\+\_\+map (\begin{DoxyParamCaption}\item[{}]{input\+\_\+ports,  }\item[{}]{output\+\_\+ports,  }\item[{}]{function\+\_\+name,  }\item[{}]{fimp\+\_\+index,  }\item[{}]{default\+\_\+input\+\_\+ports = {\ttfamily \{\textquotesingle{}clk\textquotesingle{}\+:~\textquotesingle{}\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a85e74939ca684a8a978805b5918467c8}{std\+\_\+logic}\textquotesingle{}},  }\item[{}]{nrst }\end{DoxyParamCaption})}



Definition at line 189 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+design\+\_\+units().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+design\+\_\+units(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generic\+\_\+map().


\begin{DoxyCode}
189                     default\_input\_ports=\{\textcolor{stringliteral}{'clk'}: \textcolor{stringliteral}{'std\_logic'}, \textcolor{stringliteral}{'nrst'}: \textcolor{stringliteral}{'std\_logic'}\}):
190     \textcolor{stringliteral}{'''Generate port map part}
191 \textcolor{stringliteral}{}
192 \textcolor{stringliteral}{     input\_ports}
193 \textcolor{stringliteral}{        dict of strings}
194 \textcolor{stringliteral}{        keys are the input port name}
195 \textcolor{stringliteral}{        e.g. \{ 'clk' : 'std\_logic' \}}
196 \textcolor{stringliteral}{}
197 \textcolor{stringliteral}{      output\_ports}
198 \textcolor{stringliteral}{        dict of strings}
199 \textcolor{stringliteral}{        keys are the input port name}
200 \textcolor{stringliteral}{        e.g. \{ 'counter\_output' : 'integer range 0 to 3' \}}
201 \textcolor{stringliteral}{}
202 \textcolor{stringliteral}{      function\_name}
203 \textcolor{stringliteral}{        string}
204 \textcolor{stringliteral}{}
205 \textcolor{stringliteral}{      fimp\_index}
206 \textcolor{stringliteral}{        unique index among all fimps used in the system}
207 \textcolor{stringliteral}{        integer}
208 \textcolor{stringliteral}{    '''}
209 
210     result = \textcolor{stringliteral}{''}
211 
212     \textcolor{keywordflow}{if} len(input\_ports.keys()) + len(output\_ports.keys()) > 0:
213         prefix = \textcolor{stringliteral}{'%s\_%s'} % (function\_name, fimp\_index)
214         result = \textcolor{stringliteral}{'port map ('}
215         \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} input\_ports.keys():
216             result += p + \textcolor{stringliteral}{' => %s\_%s'} % (prefix, p)
217             result += \textcolor{stringliteral}{', '}
218         \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} default\_input\_ports.keys():
219             result += p + \textcolor{stringliteral}{' => '} + p
220             result += \textcolor{stringliteral}{', '}
221         \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} output\_ports.keys():
222             result += p + \textcolor{stringliteral}{' => %s\_%s'} % (prefix, p)
223             result += \textcolor{stringliteral}{', '}
224         result = result[:-2] + \textcolor{stringliteral}{')'}
225 
226     \textcolor{keywordflow}{return} result
227 
228 \textcolor{comment}{# array}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+ports@{format\+\_\+ports}}
\index{format\+\_\+ports@{format\+\_\+ports}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+ports()}{format\_ports()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+ports (\begin{DoxyParamCaption}\item[{}]{input\+\_\+ports,  }\item[{}]{output\+\_\+ports }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate port part

  input_ports
    dict of strings
    keys are the input port name
    e.g. { 'clk' : 'std_logic' }

  output_ports
    dict of strings
    keys are the input port name
    e.g. { 'counter_output' : 'integer range 0 to 3' }
\end{DoxyVerb}
 

Definition at line 94 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generic\+\_\+map().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface().


\begin{DoxyCode}
94 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}{format\_ports}(input\_ports, output\_ports):
95     \textcolor{stringliteral}{'''Generate port part}
96 \textcolor{stringliteral}{}
97 \textcolor{stringliteral}{      input\_ports}
98 \textcolor{stringliteral}{        dict of strings}
99 \textcolor{stringliteral}{        keys are the input port name}
100 \textcolor{stringliteral}{        e.g. \{ 'clk' : 'std\_logic' \}}
101 \textcolor{stringliteral}{}
102 \textcolor{stringliteral}{      output\_ports}
103 \textcolor{stringliteral}{        dict of strings}
104 \textcolor{stringliteral}{        keys are the input port name}
105 \textcolor{stringliteral}{        e.g. \{ 'counter\_output' : 'integer range 0 to 3' \}}
106 \textcolor{stringliteral}{    '''}
107 
108     result = []
109 
110     \textcolor{keywordflow}{for} k, v \textcolor{keywordflow}{in} input\_ports.items():
111         result.append(\textcolor{stringliteral}{'%s : in %s;'} % (k, v))
112 
113     \textcolor{keywordflow}{for} k, v \textcolor{keywordflow}{in} output\_ports.items():
114         result.append(\textcolor{stringliteral}{'%s : out %s;'} % (k, v))
115 
116     \textcolor{keywordflow}{if} len(result) > 0:
117         result[-1] = result[-1][:-1]
118 
119     \textcolor{keywordflow}{return} result
120 
121 \textcolor{comment}{# string}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a8d3a2a6fdc4ce4af07672a2dd237a75d}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a8d3a2a6fdc4ce4af07672a2dd237a75d}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!format\+\_\+signals@{format\+\_\+signals}}
\index{format\+\_\+signals@{format\+\_\+signals}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{format\+\_\+signals()}{format\_signals()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+signals (\begin{DoxyParamCaption}\item[{}]{signals = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Generate signal declaration part

  signals: used signals in region
    dict of string,
    e.g. { counter' : 'integer range 0 to 3' }
\end{DoxyVerb}
 

Definition at line 42 of file vhdl\+\_\+generation.\+py.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture().


\begin{DoxyCode}
42 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a8d3a2a6fdc4ce4af07672a2dd237a75d}{format\_signals}(signals=[]):
43     \textcolor{stringliteral}{'''Generate signal declaration part}
44 \textcolor{stringliteral}{}
45 \textcolor{stringliteral}{      signals: used signals in region}
46 \textcolor{stringliteral}{        dict of string,}
47 \textcolor{stringliteral}{        e.g. \{ counter' : 'integer range 0 to 3' \}}
48 \textcolor{stringliteral}{    '''}
49 
50     result = []
51 
52     \textcolor{keywordflow}{if} len(signals) > 0:
53         \textcolor{keywordflow}{for} s\_name, s\_type \textcolor{keywordflow}{in} signals.items():
54             result.append(\textcolor{stringliteral}{'signal %s : %s;'} % (s\_name, s\_type))
55     \textcolor{keywordflow}{return} result
56 
57 \textcolor{comment}{# array}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a4807ba4c1479ad348e96412049260431}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a4807ba4c1479ad348e96412049260431}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!interface@{interface}}
\index{interface@{interface}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{interface()}{interface()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface (\begin{DoxyParamCaption}\item[{}]{entity\+\_\+name = {\ttfamily \textquotesingle{}no\+\_\+name\textquotesingle{}},  }\item[{}]{input\+\_\+ports = {\ttfamily \{\}},  }\item[{}]{output\+\_\+ports = {\ttfamily \{\}},  }\item[{}]{libraries = {\ttfamily \{\}},  }\item[{}]{generics = {\ttfamily \{\}},  }\item[{}]{header = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{license\+\_\+header = {\ttfamily \hyperlink{namespacesylva_1_1code__generation_1_1mit__license_a5c8d9ae3b2d4db392cdc66e37b035675}{mit\+\_\+license.\+vhdl}()},  }\item[{}]{template\+\_\+string = {\ttfamily vhdl\+\_\+templates.interface},  }\item[{}]{default\+\_\+input\+\_\+ports = {\ttfamily \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}{default\+\_\+input\+\_\+ports}} }\end{DoxyParamCaption})}



Definition at line 398 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+generics(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+ports(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+merge\+\_\+dict(), sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+pl2pd, and sylva.\+misc.\+exec.\+type.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components().


\begin{DoxyCode}
398               default\_input\_ports=default\_input\_ports):
399 
400     template = Template(template\_string)
401 
402     \textcolor{keywordflow}{if} \hyperlink{namespacesylva_1_1misc_1_1exec_a55d55e6d0e68715dfbd883034bd7290c}{type}(input\_ports) \textcolor{keywordflow}{is} list:
403         input\_ports\_dict = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}{pl2pd}(input\_ports)
404     \textcolor{keywordflow}{else}:
405         input\_ports\_dict = input\_ports
406 
407     \textcolor{keywordflow}{if} \hyperlink{namespacesylva_1_1misc_1_1exec_a55d55e6d0e68715dfbd883034bd7290c}{type}(output\_ports) \textcolor{keywordflow}{is} list:
408         output\_ports\_dict = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}{pl2pd}(output\_ports)
409     \textcolor{keywordflow}{else}:
410         output\_ports\_dict = output\_ports
411 
412     \textcolor{keywordflow}{return} template.render(
413         license\_header=license\_header,
414         header=header,
415         entity\_name=entity\_name,
416         libraries=libraries,
417         generics=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a94dd1f9bcf57913f20c5a8235e04c3c6}{format\_generics}(generics),
418         ports=\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_ac44fef3535243add66477e8198d8b0a5}{format\_ports}(\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}{merge\_dict}(default\_input\_ports, input\_ports\_dict),
419                            output\_ports\_dict))
420 
421 \textcolor{comment}{# string}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!merge\+\_\+dict@{merge\+\_\+dict}}
\index{merge\+\_\+dict@{merge\+\_\+dict}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{merge\+\_\+dict()}{merge\_dict()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+merge\+\_\+dict (\begin{DoxyParamCaption}\item[{}]{dictA,  }\item[{}]{dictB }\end{DoxyParamCaption})}



Definition at line 326 of file vhdl\+\_\+generation.\+py.



References sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components().



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+format\+\_\+components(), and sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface().


\begin{DoxyCode}
326 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a6f105e19192ce75934f22be90308ceff}{merge\_dict}(dictA, dictB):
327     \textcolor{keywordflow}{return} dict(dictA.items() + dictB.items())
328 
329 \textcolor{comment}{# array}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!port\+\_\+list\+\_\+to\+\_\+dict@{port\+\_\+list\+\_\+to\+\_\+dict}}
\index{port\+\_\+list\+\_\+to\+\_\+dict@{port\+\_\+list\+\_\+to\+\_\+dict}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{port\+\_\+list\+\_\+to\+\_\+dict()}{port\_list\_to\_dict()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+port\+\_\+list\+\_\+to\+\_\+dict (\begin{DoxyParamCaption}\item[{}]{port\+\_\+list }\end{DoxyParamCaption})}



Definition at line 24 of file vhdl\+\_\+generation.\+py.


\begin{DoxyCode}
24 \textcolor{keyword}{def }\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}{port\_list\_to\_dict}(port\_list):
25     \textcolor{keywordflow}{return} dict([(p.name, p.type.name) \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} port\_list])
26 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_ae2d3d4cc47d3292a63a983c9645c3010}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_ae2d3d4cc47d3292a63a983c9645c3010}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!vhdl\+\_\+file@{vhdl\+\_\+file}}
\index{vhdl\+\_\+file@{vhdl\+\_\+file}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{vhdl\+\_\+file()}{vhdl\_file()}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+vhdl\+\_\+file (\begin{DoxyParamCaption}\item[{}]{interface,  }\item[{}]{architectures = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{output\+\_\+file = {\ttfamily \textquotesingle{}result.vhdl\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 439 of file vhdl\+\_\+generation.\+py.



References sylva.\+examples.\+hsdfg.\+format.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+architecture().


\begin{DoxyCode}
439               output\_file=\textcolor{stringliteral}{'result.vhdl'}):
440 
441     output\_file\_pointer = open(output\_file, \textcolor{stringliteral}{'w'})
442 
443     output\_file\_pointer.write(interface)
444     output\_file\_pointer.write(\textcolor{stringliteral}{'\(\backslash\)n'})
445     output\_file\_pointer.write(\textcolor{stringliteral}{'\(\backslash\)n'})
446 
447     \textcolor{keywordflow}{for} fimp \textcolor{keywordflow}{in} architectures:
448         output\_file\_pointer.write(fimp)
449         output\_file\_pointer.write(\textcolor{stringliteral}{'\(\backslash\)n'})
450         output\_file\_pointer.write(\textcolor{stringliteral}{'\(\backslash\)n'})
451 
452     output\_file\_pointer.close()
453     \textcolor{keywordflow}{return} \textcolor{stringliteral}{'Generating VHDL file \{name\} is successful.'}.\hyperlink{namespacesylva_1_1examples_1_1hsdfg_ab3510a0b8457362330aa4d9fd2209590}{format}(name=output\_file)
454 \end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a0cf71880063e2c29029ca74b630eec28}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!default\+\_\+input\+\_\+ports@{default\+\_\+input\+\_\+ports}}
\index{default\+\_\+input\+\_\+ports@{default\+\_\+input\+\_\+ports}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{default\+\_\+input\+\_\+ports}{default\_input\_ports}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+default\+\_\+input\+\_\+ports = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}{pl2pd}(\hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a2373c5e8bd084e84746b1b6b947a2667}{default\+\_\+input\+\_\+ports\+\_\+list})}



Definition at line 35 of file vhdl\+\_\+generation.\+py.

\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a2373c5e8bd084e84746b1b6b947a2667}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a2373c5e8bd084e84746b1b6b947a2667}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!default\+\_\+input\+\_\+ports\+\_\+list@{default\+\_\+input\+\_\+ports\+\_\+list}}
\index{default\+\_\+input\+\_\+ports\+\_\+list@{default\+\_\+input\+\_\+ports\+\_\+list}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{default\+\_\+input\+\_\+ports\+\_\+list}{default\_input\_ports\_list}}
{\footnotesize\ttfamily list sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+default\+\_\+input\+\_\+ports\+\_\+list}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  [
2     sdf.port(name=\textcolor{stringliteral}{'clk'}, type=std\_logic),
3     sdf.port(name=\textcolor{stringliteral}{'nrst'}, type=std\_logic)]
\end{DoxyCode}


Definition at line 31 of file vhdl\+\_\+generation.\+py.

\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a10ea31d6ea98aa308e635b9403f5721f}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!pl2pd@{pl2pd}}
\index{pl2pd@{pl2pd}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{pl2pd}{pl2pd}}
{\footnotesize\ttfamily def sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+pl2pd = \hyperlink{namespacesylva_1_1code__generation_1_1vhdl__generation_a51a60df4116e05e838a7d6c61f434df5}{port\+\_\+list\+\_\+to\+\_\+dict}}



Definition at line 27 of file vhdl\+\_\+generation.\+py.



Referenced by sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+interface().

\mbox{\Hypertarget{namespacesylva_1_1code__generation_1_1vhdl__generation_a85e74939ca684a8a978805b5918467c8}\label{namespacesylva_1_1code__generation_1_1vhdl__generation_a85e74939ca684a8a978805b5918467c8}} 
\index{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}!std\+\_\+logic@{std\+\_\+logic}}
\index{std\+\_\+logic@{std\+\_\+logic}!sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation@{sylva\+::code\+\_\+generation\+::vhdl\+\_\+generation}}
\subsubsection{\texorpdfstring{std\+\_\+logic}{std\_logic}}
{\footnotesize\ttfamily sylva.\+code\+\_\+generation.\+vhdl\+\_\+generation.\+std\+\_\+logic = sdf.\+Data\+Token\+Type(name=\textquotesingle{}std\+\_\+logic\textquotesingle{}, size=1)}



Definition at line 29 of file vhdl\+\_\+generation.\+py.

