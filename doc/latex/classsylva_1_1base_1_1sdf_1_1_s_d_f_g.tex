\hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{}\section{sylva.\+base.\+sdf.\+S\+D\+FG Class Reference}
\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}\index{sylva.\+base.\+sdf.\+S\+D\+FG@{sylva.\+base.\+sdf.\+S\+D\+FG}}


Class for \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} Graph.  




Inheritance diagram for sylva.\+base.\+sdf.\+S\+D\+FG\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=251pt]{classsylva_1_1base_1_1sdf_1_1_s_d_f_g__inherit__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a66a5aaee4dc1232667e724e318f17008}{get\+\_\+hsdf} (self)
\begin{DoxyCompactList}\small\item\em Create one \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} from the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a5973e8ab996adf42e7fd074cdaa85fdf}{topology\+\_\+matrix} = property(\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a1bb270c5d255df4a78bd81650fdc80a7}{\+\_\+topology\+\_\+matrix})
\begin{DoxyCompactList}\small\item\em Get the topoloty matrix of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. \end{DoxyCompactList}\item 
\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_ad5abe5a7b0ab0941a97db69c1e00e116}{repetition\+\_\+vector} = property(\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a27f061deddd418fd4945acbd9c01122a}{\+\_\+repetition\+\_\+vector})
\begin{DoxyCompactList}\small\item\em Compute the repetition vector of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a1bb270c5d255df4a78bd81650fdc80a7}{\+\_\+topology\+\_\+matrix} (self)
\begin{DoxyCompactList}\small\item\em Get the topoloty matrix of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. \end{DoxyCompactList}\item 
def \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a27f061deddd418fd4945acbd9c01122a}{\+\_\+repetition\+\_\+vector} (self)
\begin{DoxyCompactList}\small\item\em Compute the repetition vector of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class for \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} Graph. 

\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} class is an extension to the \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} class. Methods related to \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} generation is added in this class. 

Definition at line 534 of file sdf.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a27f061deddd418fd4945acbd9c01122a}\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a27f061deddd418fd4945acbd9c01122a}} 
\index{sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}!\+\_\+repetition\+\_\+vector@{\+\_\+repetition\+\_\+vector}}
\index{\+\_\+repetition\+\_\+vector@{\+\_\+repetition\+\_\+vector}!sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}}
\subsubsection{\texorpdfstring{\+\_\+repetition\+\_\+vector()}{\_repetition\_vector()}}
{\footnotesize\ttfamily def sylva.\+base.\+sdf.\+S\+D\+F\+G.\+\_\+repetition\+\_\+vector (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Compute the repetition vector of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. 

It is a list and each element of this list is corresponding to the number of invocations of one \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object in one system iteration.

More information about repetition vector, check \href{https://goo.gl/5mcWew}{\tt https\+://goo.\+gl/5mc\+Wew} (last check 2017-\/05-\/16)


\begin{DoxyParams}{Parameters}
{\em self} & The object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
repetition vector (a list) 
\end{DoxyReturn}


Definition at line 593 of file sdf.\+py.



References sylva.\+base.\+fimp.\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+fimp(\+D\+E\+S\+K\+T\+O\+P-\/\+D3\+I\+R\+S\+O\+A 的冲突副本 2017-\/05-\/19).\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+sdf.\+D\+F\+G.\+actors, and sylva.\+base.\+sdf.\+S\+D\+F\+G.\+topology\+\_\+matrix.


\begin{DoxyCode}
593     \textcolor{keyword}{def }\_repetition\_vector(self):
594 
595         \textcolor{comment}{# create a constraint problem solver object from ortools}
596         solver = pywrapcp.Solver(\textcolor{stringliteral}{'Get repetition vector'})
597 
598         topology\_matrix = self.topology\_matrix
599 
600         \textcolor{comment}{# Repetition vector P}
601         \textcolor{comment}{# Each element is the number of invocatios of each SDF actor}
602         \textcolor{comment}{# in one system iteration.}
603         \textcolor{comment}{# The value of each repetition can be from value `1`}
604         \textcolor{comment}{# to value `sys.maxsize` (the maximum integer value of the system).}
605         \textcolor{comment}{# e.g in 32-bit operating system, `sys.maxsize` = \(\backslash\)f$2^\{31\}-1\(\backslash\)f$}
606         P = [solver.IntVar(1, sys.maxsize, f\textcolor{stringliteral}{'repetition count \{actor.index\}'})
607              \textcolor{keywordflow}{for} actor \textcolor{keywordflow}{in} self.actors]
608 
609         \textcolor{comment}{# Add constraints}
610         \textcolor{comment}{# sum of P element-wise multiply with}
611         \textcolor{comment}{# one row (corresponding for one edge) in topology matrix}
612         \textcolor{comment}{# should be zero.}
613         \textcolor{comment}{# `ScalProd()` is a method in ortools,}
614         \textcolor{comment}{# e.g A = [a0, a1, a2], B = [b0, b1, b2]}
615         \textcolor{comment}{# ScalProd(A, B) = sum(a0*b0 + a1*b1 + a2*b2)}
616         \textcolor{keywordflow}{for} row \textcolor{keywordflow}{in} topology\_matrix:
617             each\_row = solver.ScalProd(P, row)
618             \textcolor{comment}{# add a constraint that `each\_row` should be 0}
619             \textcolor{comment}{# to balance all the edges.}
620             solver.Add(each\_row == 0)
621 
622         \textcolor{comment}{# Create a database for solver}
623         db = solver.Phase(P,                            \textcolor{comment}{# variables to search}
624                           solver.CHOOSE\_FIRST\_UNBOUND,  \textcolor{comment}{# Branching strategy}
625                           solver.ASSIGN\_MIN\_VALUE)      \textcolor{comment}{# Assignment strategy}
626 
627         \textcolor{comment}{# Initialize a new search using the created database}
628         solver.NewSearch(db)
629 
630         \textcolor{comment}{# Perform one search and assign a value to the search variables}
631         \textcolor{comment}{# For search variable `var`,}
632         \textcolor{comment}{# use `var.Value()` to get its current assigned value}
633         solver.NextSolution()
634 
635         result = [int(var.Value()) \textcolor{keywordflow}{for} var \textcolor{keywordflow}{in} P]
636         \textcolor{comment}{# .Value() is for getting the current assigned value}
637         \textcolor{comment}{# of the search variable.}
638         \textcolor{comment}{# This method is from ortools}
639 
640         \textcolor{keywordflow}{return} result
641 
\end{DoxyCode}
\mbox{\Hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a1bb270c5d255df4a78bd81650fdc80a7}\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a1bb270c5d255df4a78bd81650fdc80a7}} 
\index{sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}!\+\_\+topology\+\_\+matrix@{\+\_\+topology\+\_\+matrix}}
\index{\+\_\+topology\+\_\+matrix@{\+\_\+topology\+\_\+matrix}!sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}}
\subsubsection{\texorpdfstring{\+\_\+topology\+\_\+matrix()}{\_topology\_matrix()}}
{\footnotesize\ttfamily def sylva.\+base.\+sdf.\+S\+D\+F\+G.\+\_\+topology\+\_\+matrix (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Get the topoloty matrix of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. 

More information about topology matrix of \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} can be found at \href{https://goo.gl/hZmXQq}{\tt https\+://goo.\+gl/h\+Zm\+X\+Qq} (last check at 2017-\/05-\/16)


\begin{DoxyParams}{Parameters}
{\em self} & The object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a matrix (list of list) 
\end{DoxyReturn}


Definition at line 546 of file sdf.\+py.



References sylva.\+base.\+fimp.\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+fimp(\+D\+E\+S\+K\+T\+O\+P-\/\+D3\+I\+R\+S\+O\+A 的冲突副本 2017-\/05-\/19).\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+sdf.\+D\+F\+G.\+actors, and sylva.\+base.\+sdf.\+D\+F\+G.\+edges.


\begin{DoxyCode}
546     \textcolor{keyword}{def }\_topology\_matrix(self):
547 
548         result = []
549 
550         \textcolor{keywordflow}{for} edge \textcolor{keywordflow}{in} self.edges:
551             \textcolor{comment}{# One row in the topology matrix is for one Edge}
552 
553             result.append([])
554             edge\_index = len(result) - 1
555 
556             \textcolor{keywordflow}{for} actor \textcolor{keywordflow}{in} self.actors:
557                 \textcolor{comment}{# One coloumn in the topology matrix is for one Actor}
558                 \textcolor{keywordflow}{if} (actor != edge.dest\_actor \textcolor{keywordflow}{and} actor != edge.src\_actor):
559                     result[edge\_index].append(0)
560                 \textcolor{keywordflow}{else}:
561                     \textcolor{keywordflow}{if} (actor == edge.dest\_actor):
562                         data\_size = -1 * edge.dest\_port.count
563                         \textcolor{comment}{# minus sign means this actor is consuming data tokens}
564                         result[edge\_index].append(data\_size)
565                     \textcolor{keywordflow}{else}:
566                         data\_size = +1 * edge.src\_port.count
567                         \textcolor{comment}{# plus sign means this actor is producing data tokens}
568                         result[edge\_index].append(data\_size)
569 
570         \textcolor{keywordflow}{return} result
571 
\end{DoxyCode}
\mbox{\Hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a66a5aaee4dc1232667e724e318f17008}\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a66a5aaee4dc1232667e724e318f17008}} 
\index{sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}!get\+\_\+hsdf@{get\+\_\+hsdf}}
\index{get\+\_\+hsdf@{get\+\_\+hsdf}!sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}}
\subsubsection{\texorpdfstring{get\+\_\+hsdf()}{get\_hsdf()}}
{\footnotesize\ttfamily def sylva.\+base.\+sdf.\+S\+D\+F\+G.\+get\+\_\+hsdf (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Create one \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} from the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. 


\begin{DoxyParams}{Parameters}
{\em self} & The object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} Creates \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects.
\end{DoxyReturn}
returns list of list. Each \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object will result one list of \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects Creates edges for the generated \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects.

hsdf\+\_\+actors is the \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} list. It is a list of list. Each \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} has one list of generated \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects.

returns None check if the data producing \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} should execute more than the data consuming \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor}

if repetition vector P = \mbox{[}1, 4, 2, 2\mbox{]} for actor \mbox{[}a, d, b, c\mbox{]} consider edge a-\/$>$b src\+\_\+index = 0 (a) dest\+\_\+index = 2 (b)

more = 1 less = 2 source\+\_\+executes\+\_\+more = False then we swap less and more more = 2 less = 1 Compute the ratio of the executions of \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} executes more times over \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} executes less times We can divide data tokens but one of the following conditions should be met\+:


\begin{DoxyEnumerate}
\item data productio / data consumption is integer
\item data consumption / data production is integer
\end{DoxyEnumerate}

{\ttfamily ratio = 2/1} for actor {\ttfamily b} and {\ttfamily a} for each \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object that executes less we create a list of \hyperlink{classsylva_1_1base_1_1sdf_1_1_edge}{Edge} objects for the corresponding \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects that execute more For creating a new \hyperlink{classsylva_1_1base_1_1sdf_1_1_edge}{Edge} object.

If data source \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objectexecutes more, we put this \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object as source \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor}, else we put this \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object as destination \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor}. After generatig \hyperlink{classsylva_1_1base_1_1sdf_1_1_edge}{Edge}, we need to change the number of data tokens to be produced or consumed on each \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port}.

In this case, the generated \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} objects will N\+OT be the same as the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} objects on the corresponding \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor}.

We will update \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects later. Assign indexes to the generated \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects

hsdf\+\_\+actors\+\_\+2D is the \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} list. It is a list of list. Each \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} has one list of generated \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects.

returns a list of \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects with correct indexes. Now we update the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object on \hyperlink{classsylva_1_1base_1_1sdf_1_1_h_s_d_f_g}{H\+S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} objects. The resulting \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object will have different {\ttfamily count} value than the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} in the original \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object. This is I\+N\+T\+E\+N\+D\+ED, since we do not want create new ports, we only change the {\ttfamily count} value based to the repetition value. if the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} with name {\ttfamily port\+\_\+name} is N\+OT in the port list, we append the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object to the port list. else we use the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object in the port list as {\ttfamily one\+\_\+edge.\+src\+\_\+port} if the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} with name {\ttfamily port\+\_\+name} is N\+OT in the port list, we append the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object to the port list. else we use the \hyperlink{classsylva_1_1base_1_1sdf_1_1_port}{Port} object in the port list as {\ttfamily one\+\_\+edge.\+dest\+\_\+port}. 

Definition at line 656 of file sdf.\+py.



References sylva.\+base.\+fimp.\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+fimp(\+D\+E\+S\+K\+T\+O\+P-\/\+D3\+I\+R\+S\+O\+A 的冲突副本 2017-\/05-\/19).\+F\+I\+M\+P\+Instance.\+actors, sylva.\+base.\+sdf.\+D\+F\+G.\+actors, sylva.\+base.\+sdf.\+D\+F\+G.\+edges, and sylva.\+base.\+sdf.\+S\+D\+F\+G.\+repetition\+\_\+vector.


\begin{DoxyCode}
656     \textcolor{keyword}{def }get\_hsdf(self):
657 
658         repetition\_vector = self.repetition\_vector
659 
660         
667         \textcolor{keyword}{def }create\_HSDF\_actors():
668             \textcolor{comment}{# each SDFG Actor will generate `p` number of HSDFG Actors.}
669             \textcolor{comment}{# `p` is the number of invocations of the SDFG Actor}
670             \textcolor{comment}{# in one system iteration}
671             hsdf\_actors = []
672             \textcolor{keywordflow}{for} one\_sdf\_actor \textcolor{keywordflow}{in} self.actors:
673                 hsdf\_actors.append([])
674                 \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} range(repetition\_vector[one\_sdf\_actor.index]):
675                     hsdf\_actor = Actor(name=one\_sdf\_actor.name)
676                     hsdf\_actor.base\_actor = one\_sdf\_actor
677                     hsdf\_actors[-1].append(hsdf\_actor)
678                 one\_sdf\_actor.child\_actors = hsdf\_actors[-1]
679             \textcolor{keywordflow}{return} hsdf\_actors
680 
681         
690         \textcolor{keyword}{def }create\_HSDF\_edges(hsdf\_actors):
691 
692             \textcolor{keywordflow}{for} e \textcolor{keywordflow}{in} self.edges:
693 
694                 src\_index = e.src\_actor.index
695                 dest\_index = e.dest\_actor.index
696                 token\_count = min(e.src\_port.count, e.dest\_port.count)
697 
698                 
712                 more = repetition\_vector[src\_index]
713                 less = repetition\_vector[dest\_index]
714                 source\_executes\_more = more > less
715 
716                 
721                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} source\_executes\_more:
722                     less, more = more, less
723 
724                 
736                 ratio = int(more / less)
737 
738                 more\_index = 0
739                 less\_index = 0
740 
741                 \textcolor{keywordflow}{for} r\_less \textcolor{keywordflow}{in} range(less):
742                     
748 
749                     less\_index = r\_less
750 
751                     \textcolor{keywordflow}{for} r\_more \textcolor{keywordflow}{in} range(ratio):
752 
753                         \textcolor{keywordflow}{if} source\_executes\_more:
754                             
763                             src\_actor = hsdf\_actors[src\_index][more\_index]
764                             dest\_actor = hsdf\_actors[dest\_index][less\_index]
765                         \textcolor{keywordflow}{else}:
766                             src\_actor = hsdf\_actors[src\_index][less\_index]
767                             dest\_actor = hsdf\_actors[dest\_index][more\_index]
768 
769                         
780                         src\_port = e.src\_port.clone
781                         src\_port.count = token\_count
782                         dest\_port = e.dest\_port.clone
783                         dest\_port.count = token\_count
784 
785                         Edge(src\_actor=src\_actor,
786                              src\_port=src\_port,
787                              dest\_actor=dest\_actor,
788                              dest\_port=dest\_port)
789 
790                         more\_index += 1
791 
792         
801         \textcolor{keyword}{def }index\_HSDF\_actors(hsdf\_actors\_2D):
802             result = []
803             index = 0
804             \textcolor{keywordflow}{for} hsdf\_actors\_from\_one\_sdf\_actor \textcolor{keywordflow}{in} hsdf\_actors\_2D:
805                 \textcolor{keywordflow}{for} one\_hsdf\_actor \textcolor{keywordflow}{in} hsdf\_actors\_from\_one\_sdf\_actor:
806                     one\_hsdf\_actor.index = index
807                     result.append(one\_hsdf\_actor)
808                     index += 1
809 
810             \textcolor{keywordflow}{return} result
811 
812         hsdf\_actors\_2D = create\_HSDF\_actors()
813         create\_HSDF\_edges(hsdf\_actors\_2D)
814         hsdf\_actors = index\_HSDF\_actors(hsdf\_actors\_2D)
815 
816         \textcolor{keywordflow}{for} one\_hsdf\_actor \textcolor{keywordflow}{in} hsdf\_actors:
817             
825             output\_ports = SYLVAList()
826             input\_ports = SYLVAList()
827 
828             \textcolor{keywordflow}{for} one\_edge \textcolor{keywordflow}{in} one\_hsdf\_actor.outgoing\_edges:
829                 
835                 port\_name = one\_edge.src\_port.name
836                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} output\_ports.has(\textcolor{stringliteral}{'name'}, port\_name):
837                     output\_ports.append(one\_edge.src\_port)
838                 \textcolor{keywordflow}{else}:
839                     one\_edge.src\_port = output\_ports.find(\textcolor{stringliteral}{'name'}, port\_name)
840 
841             \textcolor{keywordflow}{for} one\_edge \textcolor{keywordflow}{in} one\_hsdf\_actor.incoming\_edges:
842                 
848                 port\_name = one\_edge.dest\_port.name
849                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} input\_ports.has(\textcolor{stringliteral}{'name'}, port\_name):
850                     input\_ports.append(one\_edge.dest\_port)
851                 \textcolor{keywordflow}{else}:
852                     one\_edge.dest\_port = input\_ports.find(\textcolor{stringliteral}{'name'}, port\_name)
853 
854             one\_hsdf\_actor.output\_ports = output\_ports
855             one\_hsdf\_actor.input\_ports = input\_ports
856 
857         \textcolor{keywordflow}{return} HSDFG(hsdf\_actors, reassign\_actor\_indexes=\textcolor{keyword}{False})
858 \end{DoxyCode}


\subsection{Property Documentation}
\mbox{\Hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_ad5abe5a7b0ab0941a97db69c1e00e116}\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_ad5abe5a7b0ab0941a97db69c1e00e116}} 
\index{sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}!repetition\+\_\+vector@{repetition\+\_\+vector}}
\index{repetition\+\_\+vector@{repetition\+\_\+vector}!sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}}
\subsubsection{\texorpdfstring{repetition\+\_\+vector}{repetition\_vector}}
{\footnotesize\ttfamily sylva.\+base.\+sdf.\+S\+D\+F\+G.\+repetition\+\_\+vector = property(\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a27f061deddd418fd4945acbd9c01122a}{\+\_\+repetition\+\_\+vector})\hspace{0.3cm}{\ttfamily [static]}}



Compute the repetition vector of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. 

It is a list and each element of this list is corresponding to the number of invocations of one \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} \hyperlink{classsylva_1_1base_1_1sdf_1_1_actor}{Actor} object in one system iteration.

More information about repetition vector, check \href{https://goo.gl/5mcWew}{\tt https\+://goo.\+gl/5mc\+Wew} (last check 2017-\/05-\/16)


\begin{DoxyParams}{Parameters}
{\em self} & The object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
repetition vector (a list) 
\end{DoxyReturn}


Definition at line 647 of file sdf.\+py.



Referenced by sylva.\+base.\+sdf.\+S\+D\+F\+G.\+get\+\_\+hsdf().

\mbox{\Hypertarget{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a5973e8ab996adf42e7fd074cdaa85fdf}\label{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a5973e8ab996adf42e7fd074cdaa85fdf}} 
\index{sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}!topology\+\_\+matrix@{topology\+\_\+matrix}}
\index{topology\+\_\+matrix@{topology\+\_\+matrix}!sylva\+::base\+::sdf\+::\+S\+D\+FG@{sylva\+::base\+::sdf\+::\+S\+D\+FG}}
\subsubsection{\texorpdfstring{topology\+\_\+matrix}{topology\_matrix}}
{\footnotesize\ttfamily sylva.\+base.\+sdf.\+S\+D\+F\+G.\+topology\+\_\+matrix = property(\hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g_a1bb270c5d255df4a78bd81650fdc80a7}{\+\_\+topology\+\_\+matrix})\hspace{0.3cm}{\ttfamily [static]}}



Get the topoloty matrix of the current \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG}. 

More information about topology matrix of \hyperlink{classsylva_1_1base_1_1sdf_1_1_s_d_f_g}{S\+D\+FG} can be found at \href{https://goo.gl/hZmXQq}{\tt https\+://goo.\+gl/h\+Zm\+X\+Qq} (last check at 2017-\/05-\/16)


\begin{DoxyParams}{Parameters}
{\em self} & The object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a matrix (list of list) 
\end{DoxyReturn}


Definition at line 577 of file sdf.\+py.



Referenced by sylva.\+base.\+sdf.\+S\+D\+F\+G.\+\_\+repetition\+\_\+vector().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
base/\hyperlink{sdf_8py}{sdf.\+py}\end{DoxyCompactItemize}
